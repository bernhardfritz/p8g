"use strict";(self.webpackChunkp8g_docs=self.webpackChunkp8g_docs||[]).push([[126],{8215:function(e,n,r){r.d(n,{Z:function(){return t}});var i=r(7294);function t(e){var n=e.children,r=e.hidden,t=e.className;return i.createElement("div",{role:"tabpanel",hidden:r,className:t},n)}},9877:function(e,n,r){r.d(n,{Z:function(){return s}});var i=r(3117),t=r(7294),o=r(2389),a=r(9575),l=r(6010),c="tabItem_LplD";function f(e){var n,r,o,f=e.lazy,s=e.block,d=e.defaultValue,u=e.values,p=e.groupId,m=e.className,w=t.Children.map(e.children,(function(e){if((0,t.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),g=null!=u?u:w.map((function(e){var n=e.props;return{value:n.value,label:n.label,attributes:n.attributes}})),h=(0,a.lx)(g,(function(e,n){return e.value===n.value}));if(h.length>0)throw new Error('Docusaurus error: Duplicate values "'+h.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var k=null===d?d:null!=(n=null!=d?d:null==(r=w.find((function(e){return e.props.default})))?void 0:r.props.value)?n:null==(o=w[0])?void 0:o.props.value;if(null!==k&&!g.some((function(e){return e.value===k})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+k+'" but none of its children has the corresponding value. Available values are: '+g.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var v=(0,a.UB)(),b=v.tabGroupChoices,y=v.setTabGroupChoices,_=(0,t.useState)(k),x=_[0],M=_[1],R=[],T=(0,a.o5)().blockElementScrollPositionUntilNextRender;if(null!=p){var F=b[p];null!=F&&F!==x&&g.some((function(e){return e.value===F}))&&M(F)}var I=function(e){var n=e.currentTarget,r=R.indexOf(n),i=g[r].value;i!==x&&(T(n),M(i),null!=p&&y(p,i))},E=function(e){var n,r=null;switch(e.key){case"ArrowRight":var i=R.indexOf(e.currentTarget)+1;r=R[i]||R[0];break;case"ArrowLeft":var t=R.indexOf(e.currentTarget)-1;r=R[t]||R[R.length-1]}null==(n=r)||n.focus()};return t.createElement("div",{className:"tabs-container"},t.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":s},m)},g.map((function(e){var n=e.value,r=e.label,o=e.attributes;return t.createElement("li",(0,i.Z)({role:"tab",tabIndex:x===n?0:-1,"aria-selected":x===n,key:n,ref:function(e){return R.push(e)},onKeyDown:E,onFocus:I,onClick:I},o,{className:(0,l.Z)("tabs__item",c,null==o?void 0:o.className,{"tabs__item--active":x===n})}),null!=r?r:n)}))),f?(0,t.cloneElement)(w.filter((function(e){return e.props.value===x}))[0],{className:"margin-vert--md"}):t.createElement("div",{className:"margin-vert--md"},w.map((function(e,n){return(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==x})}))))}function s(e){var n=(0,o.Z)();return t.createElement(f,(0,i.Z)({key:String(n)},e))}},9145:function(e,n,r){r.r(n),r.d(n,{assets:function(){return F},contentTitle:function(){return R},default:function(){return z},frontMatter:function(){return M},metadata:function(){return T},toc:function(){return I}});var i=r(3117),t=r(102),o=r(7294),a=r(3905),l=r(9877),c=r(8215),f=r(8066),s=r(5697),d=r.n(s);function u(){return u=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},u.apply(this,arguments)}function p(e,n){if(null==e)return{};var r,i,t={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],n.indexOf(r)>=0||(t[r]=e[r]);return t}var m,w,g=(m=function(e){!function(n){if("undefined"!=typeof window){var r,i=0,t=!1,o=!1,a="message".length,l="[iFrameSizer]",c=l.length,f=null,s=window.requestAnimationFrame,d={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},u={},p=null,m={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",onClose:function(){return!0},onClosed:function(){},onInit:function(){},onMessage:function(){x("onMessage function not defined")},onMouseEnter:function(){},onMouseLeave:function(){},onResized:function(){},onScroll:function(){return!0}},w={};window.jQuery&&((r=window.jQuery).fn?r.fn.iFrameResize||(r.fn.iFrameResize=function(e){return this.filter("iframe").each((function(n,r){j(r,e)})).end()}):_("","Unable to bind to jQuery, it is not fully loaded.")),e.exports=B(),window.iFrameResize=window.iFrameResize||B()}function g(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function h(e,n,r){e.addEventListener(n,r,!1)}function k(e,n,r){e.removeEventListener(n,r,!1)}function v(e){return l+"["+function(e){var n="Host page: "+e;return window.top!==window.self&&(n=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+e:"Nested host page: "+e),n}(e)+"]"}function b(e){return u[e]?u[e].log:t}function y(e,n){M("log",e,n,b(e))}function _(e,n){M("info",e,n,b(e))}function x(e,n){M("warn",e,n,!0)}function M(e,n,r,i){!0===i&&"object"==typeof window.console&&console[e](v(n),r)}function R(e){function n(){t("Height"),t("Width"),P((function(){O(A),z(L),v("onResized",A)}),A,"init")}function r(e){return"border-box"!==e.boxSizing?0:(e.paddingTop?parseInt(e.paddingTop,10):0)+(e.paddingBottom?parseInt(e.paddingBottom,10):0)}function i(e){return"border-box"!==e.boxSizing?0:(e.borderTopWidth?parseInt(e.borderTopWidth,10):0)+(e.borderBottomWidth?parseInt(e.borderBottomWidth,10):0)}function t(e){var n=Number(u[L]["max"+e]),r=Number(u[L]["min"+e]),i=e.toLowerCase(),t=Number(A[i]);y(L,"Checking "+i+" is in range "+r+"-"+n),t<r&&(t=r,y(L,"Set "+i+" to min value")),t>n&&(t=n,y(L,"Set "+i+" to max value")),A[i]=""+t}function o(e){return W.substr(W.indexOf(":")+a+e)}function s(e,n){var r,i,t;r=function(){var r,i;N("Send Page Info","pageInfo:"+(r=document.body.getBoundingClientRect(),i=A.iframe.getBoundingClientRect(),JSON.stringify({iframeHeight:i.height,iframeWidth:i.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(i.top-r.top,10),offsetLeft:parseInt(i.left-r.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,documentHeight:document.documentElement.clientHeight,documentWidth:document.documentElement.clientWidth,windowHeight:window.innerHeight,windowWidth:window.innerWidth})),e,n)},i=32,w[t=n]||(w[t]=setTimeout((function(){w[t]=null,r()}),i))}function d(e){var n=e.getBoundingClientRect();return E(L),{x:Math.floor(Number(n.left)+Number(f.x)),y:Math.floor(Number(n.top)+Number(f.y))}}function p(e){var n=e?d(A.iframe):{x:0,y:0},r={x:Number(A.width)+n.x,y:Number(A.height)+n.y};y(L,"Reposition requested from iFrame (offset x:"+n.x+" y:"+n.y+")"),window.top!==window.self?window.parentIFrame?window.parentIFrame["scrollTo"+(e?"Offset":"")](r.x,r.y):x(L,"Unable to scroll to requested position, window.parentIFrame not found"):(f=r,m(),y(L,"--"))}function m(){!1!==v("onScroll",f)?z(L):C()}function g(e){v(e,{iframe:A.iframe,screenX:A.width,screenY:A.height,type:A.type})}function v(e,n){return T(L,e,n)}var b,M,R,F,j,H,W=e.data,A={},L=null;"[iFrameResizerChild]Ready"===W?function(){for(var e in u)N("iFrame requested init",V(e),u[e].iframe,e)}():l===(""+W).substr(0,c)&&W.substr(c).split(":")[0]in u?(R=W.substr(c).split(":"),F=R[1]?parseInt(R[1],10):0,j=u[R[0]]&&u[R[0]].iframe,H=getComputedStyle(j),A={iframe:j,id:R[0],height:F+r(H)+i(H),width:R[2],type:R[3]},L=A.id,u[L]&&(u[L].loaded=!0),(M=A.type in{true:1,false:1,undefined:1})&&y(L,"Ignoring init message from meta parent page"),!M&&function(e){var n=!0;return u[e]||(n=!1,x(A.type+" No settings for "+e+". Message was: "+W)),n}(L)&&(y(L,"Received: "+W),b=!0,null===A.iframe&&(x(L,"IFrame ("+A.id+") not found"),b=!1),b&&function(){var n,r=e.origin,i=u[L]&&u[L].checkOrigin;if(i&&""+r!="null"&&!(i.constructor===Array?function(){var e=0,n=!1;for(y(L,"Checking connection is from allowed list of origins: "+i);e<i.length;e++)if(i[e]===r){n=!0;break}return n}():(n=u[L]&&u[L].remoteHost,y(L,"Checking connection is from: "+n),r===n)))throw new Error("Unexpected message received from: "+r+" for "+A.iframe.id+". Message was: "+e.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}()&&function(){switch(u[L]&&u[L].firstRun&&u[L]&&(u[L].firstRun=!1),A.type){case"close":I(A.iframe);break;case"message":a=o(6),y(L,"onMessage passed: {iframe: "+A.iframe.id+", message: "+a+"}"),v("onMessage",{iframe:A.iframe,message:JSON.parse(a)}),y(L,"--");break;case"mouseenter":g("onMouseEnter");break;case"mouseleave":g("onMouseLeave");break;case"autoResize":u[L].autoResize=JSON.parse(o(9));break;case"scrollTo":p(!1);break;case"scrollToOffset":p(!0);break;case"pageInfo":s(u[L]&&u[L].iframe,L),function(){function e(e,i){function t(){u[r]?s(u[r].iframe,r):n()}["scroll","resize"].forEach((function(n){y(r,e+n+" listener for sendPageInfo"),i(window,n,t)}))}function n(){e("Remove ",k)}var r=L;e("Add ",h),u[r]&&(u[r].stopPageInfo=n)}();break;case"pageInfoStop":u[L]&&u[L].stopPageInfo&&(u[L].stopPageInfo(),delete u[L].stopPageInfo);break;case"inPageLink":r=o(9).split("#")[1]||"",i=decodeURIComponent(r),(t=document.getElementById(i)||document.getElementsByName(i)[0])?(e=d(t),y(L,"Moving to in page link (#"+r+") at x: "+e.x+" y: "+e.y),f={x:e.x,y:e.y},m(),y(L,"--")):window.top!==window.self?window.parentIFrame?window.parentIFrame.moveToAnchor(r):y(L,"In page link #"+r+" not found and window.parentIFrame not found"):y(L,"In page link #"+r+" not found");break;case"reset":S(A);break;case"init":n(),v("onInit",A.iframe);break;default:n()}var e,r,i,t,a}())):_(L,"Ignored: "+W)}function T(e,n,r){var i=null,t=null;if(u[e]){if("function"!=typeof(i=u[e][n]))throw new TypeError(n+" on iFrame["+e+"] is not a function");t=i(r)}return t}function F(e){var n=e.id;delete u[n]}function I(e){var n=e.id;if(!1!==T(n,"onClose",n)){y(n,"Removing iFrame: "+n);try{e.parentNode&&e.parentNode.removeChild(e)}catch(r){x(r)}T(n,"onClosed",n),y(n,"--"),F(e)}else y(n,"Close iframe cancelled by onClose event")}function E(e){null===f&&y(e,"Get page position: "+(f={x:window.pageXOffset!==n?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==n?window.pageYOffset:document.documentElement.scrollTop}).x+","+f.y)}function z(e){null!==f&&(window.scrollTo(f.x,f.y),y(e,"Set page position: "+f.x+","+f.y),C())}function C(){f=null}function S(e){y(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),E(e.id),P((function(){O(e),N("reset","reset",e.iframe,e.id)}),e,"reset")}function O(e){function n(n){o||"0"!==e[n]||(o=!0,y(i,"Hidden iFrame detected, creating visibility listener"),function(){function e(){function e(e){function n(n){return"0px"===(u[e]&&u[e].iframe.style[n])}function r(e){return null!==e.offsetParent}u[e]&&r(u[e].iframe)&&(n("height")||n("width"))&&N("Visibility change","resize",u[e].iframe,e)}Object.keys(u).forEach((function(n){e(n)}))}function n(n){y("window","Mutation observed: "+n[0].target+" "+n[0].type),H(e,16)}function r(){var e=document.querySelector("body"),r={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};new i(n).observe(e,r)}var i=g();i&&r()}())}function r(r){!function(n){e.id?(e.iframe.style[n]=e[n]+"px",y(e.id,"IFrame ("+i+") "+n+" set to "+e[n]+"px")):y("undefined","messageData id not set")}(r),n(r)}var i=e.iframe.id;u[i]&&(u[i].sizeHeight&&r("height"),u[i].sizeWidth&&r("width"))}function P(e,n,r){r!==n.type&&s&&!window.jasmine?(y(n.id,"Requesting animation frame"),s(e)):e()}function N(e,n,r,i,t){var o,a=!1;i=i||r.id,u[i]&&(r&&"contentWindow"in r&&null!==r.contentWindow?(o=u[i]&&u[i].targetOrigin,y(i,"["+e+"] Sending msg to iframe["+i+"] ("+n+") targetOrigin: "+o),r.contentWindow.postMessage(l+n,o)):x(i,"["+e+"] IFrame("+i+") not found"),t&&u[i]&&u[i].warningTimeout&&(u[i].msgTimeout=setTimeout((function(){!u[i]||u[i].loaded||a||(a=!0,x(i,"IFrame has not responded within "+u[i].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}),u[i].warningTimeout)))}function V(e){return e+":"+u[e].bodyMarginV1+":"+u[e].sizeWidth+":"+u[e].log+":"+u[e].interval+":"+u[e].enablePublicMethods+":"+u[e].autoResize+":"+u[e].bodyMargin+":"+u[e].heightCalculationMethod+":"+u[e].bodyBackground+":"+u[e].bodyPadding+":"+u[e].tolerance+":"+u[e].inPageLinks+":"+u[e].resizeFrom+":"+u[e].widthCalculationMethod}function j(e,r){function o(e){var n=e.split("Callback");if(2===n.length){var r="on"+n[0].charAt(0).toUpperCase()+n[0].slice(1);this[r]=this[e],delete this[e],x(c,"Deprecated: '"+e+"' has been renamed '"+r+"'. The old method will be removed in the next major version.")}}var a,l,c=function(n){var o;return""===n&&(e.id=(o=r&&r.id||m.id+i++,null!==document.getElementById(o)&&(o+=i++),n=o),t=(r||{}).log,y(n,"Added missing iframe ID: "+n+" ("+e.src+")")),n}(e.id);c in u&&"iFrameResizer"in e?x(c,"Ignored iFrame, already setup."):(function(n){var r;n=n||{},u[c]={firstRun:!0,iframe:e,remoteHost:e.src&&e.src.split("/").slice(0,3).join("/")},function(e){if("object"!=typeof e)throw new TypeError("Options is not an object")}(n),Object.keys(n).forEach(o,n),function(e){for(var n in m)Object.prototype.hasOwnProperty.call(m,n)&&(u[c][n]=Object.prototype.hasOwnProperty.call(e,n)?e[n]:m[n])}(n),u[c]&&(u[c].targetOrigin=!0===u[c].checkOrigin?""===(r=u[c].remoteHost)||null!==r.match(/^(about:blank|javascript:|file:\/\/)/)?"*":r:"*")}(r),function(){switch(y(c,"IFrame scrolling "+(u[c]&&u[c].scrolling?"enabled":"disabled")+" for "+c),e.style.overflow=!1===(u[c]&&u[c].scrolling)?"hidden":"auto",u[c]&&u[c].scrolling){case"omit":break;case!0:e.scrolling="yes";break;case!1:e.scrolling="no";break;default:e.scrolling=u[c]?u[c].scrolling:"no"}}(),function(){function n(n){1/0!==u[c][n]&&0!==u[c][n]&&(e.style[n]=u[c][n]+"px",y(c,"Set "+n+" = "+u[c][n]+"px"))}function r(e){if(u[c]["min"+e]>u[c]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}r("Height"),r("Width"),n("maxHeight"),n("minHeight"),n("maxWidth"),n("minWidth")}(),"number"!=typeof(u[c]&&u[c].bodyMargin)&&"0"!==(u[c]&&u[c].bodyMargin)||(u[c].bodyMarginV1=u[c].bodyMargin,u[c].bodyMargin=u[c].bodyMargin+"px"),a=V(c),(l=g())&&function(n){e.parentNode&&new n((function(n){n.forEach((function(n){Array.prototype.slice.call(n.removedNodes).forEach((function(n){n===e&&I(e)}))}))})).observe(e.parentNode,{childList:!0})}(l),h(e,"load",(function(){var r,i;N("iFrame.onload",a,e,n,!0),r=u[c]&&u[c].firstRun,i=u[c]&&u[c].heightCalculationMethod in d,!r&&i&&S({iframe:e,height:0,width:0,type:"init"})})),N("init",a,e,n,!0),u[c]&&(u[c].iframe.iFrameResizer={close:I.bind(null,u[c].iframe),removeListeners:F.bind(null,u[c].iframe),resize:N.bind(null,"Window resize","resize",u[c].iframe),moveToAnchor:function(e){N("Move to anchor","moveToAnchor:"+e,u[c].iframe,c)},sendMessage:function(e){N("Send Message","message:"+(e=JSON.stringify(e)),u[c].iframe,c)}}))}function H(e,n){null===p&&(p=setTimeout((function(){p=null,e()}),n))}function W(){"hidden"!==document.visibilityState&&(y("document","Trigger event: Visiblity change"),H((function(){A("Tab Visable","resize")}),16))}function A(e,n){Object.keys(u).forEach((function(r){(function(e){return u[e]&&"parent"===u[e].resizeFrom&&u[e].autoResize&&!u[e].firstRun})(r)&&N(e,n,u[r].iframe,r)}))}function L(){h(window,"message",R),h(window,"resize",(function(){var e;y("window","Trigger event: "+(e="resize")),H((function(){A("Window "+e,"resize")}),16)})),h(document,"visibilitychange",W),h(document,"-webkit-visibilitychange",W)}function B(){function e(e,n){n&&(function(){if(!n.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==n.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+n.tagName+">")}(),j(n,e),r.push(n))}var r;return function(){var e,n=["moz","webkit","o","ms"];for(e=0;e<n.length&&!s;e+=1)s=window[n[e]+"RequestAnimationFrame"];s?s=s.bind(window):y("setup","RequestAnimationFrame not supported")}(),L(),function(i,t){switch(r=[],function(e){e&&e.enablePublicMethods&&x("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}(i),typeof t){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(t||"iframe"),e.bind(n,i));break;case"object":e(i,t);break;default:throw new TypeError("Unexpected data type ("+typeof t+")")}return r}}}()},m(w={exports:{}},w.exports),w.exports),h=function(){},k=h,v=function(e){var n=e.title,r=e.forwardRef,i=p(e,["title","forwardRef"]),t=function(e){return e.autoResize,e.bodyBackground,e.bodyMargin,e.bodyPadding,e.checkOrigin,e.inPageLinks,e.heightCalculationMethod,e.interval,e.log,e.maxHeight,e.maxWidth,e.minHeight,e.minWidth,e.resizeFrom,e.scrolling,e.sizeHeight,e.sizeWidth,e.warningTimeout,e.tolerance,e.widthCalculationMethod,e.onClosed,e.onInit,e.onMessage,e.onMouseEnter,e.onMouseLeave,e.onResized,p(e,["autoResize","bodyBackground","bodyMargin","bodyPadding","checkOrigin","inPageLinks","heightCalculationMethod","interval","log","maxHeight","maxWidth","minHeight","minWidth","resizeFrom","scrolling","sizeHeight","sizeWidth","warningTimeout","tolerance","widthCalculationMethod","onClosed","onInit","onMessage","onMouseEnter","onMouseLeave","onResized"])}(i),a=(0,o.useRef)(null),l=function(){return k(!a.current,"[iframeSizerReact]["+(a&&a.current&&a.current.id)+"] Close event ignored, to remove the iframe update your React component"),!a.current};return(0,o.useEffect)((function(){var e=a.current;return g(u({},i,{onClose:l}),e),function(){return e.iFrameResizer&&e.iFrameResizer.removeListeners()}}),[]),(0,o.useImperativeHandle)(r,(function(){return{resize:function(){return a.current.iFrameResizer.resize()},moveToAnchor:function(e){return a.current.iFrameResizer.moveToAnchor(e)},sendMessage:function(e,n){a.current.iFrameResizer.sendMessage(e,n)}}})),o.createElement("iframe",u({title:n},t,{ref:a}))};v.defaultProps={title:"iframe"},v.propTypes={title:d().string};var b=v,y=r(4996);function _(e){return o.createElement(b,{src:(0,y.Z)(e.src),style:{width:"1px",minWidth:"100%"}})}var x=["components"],M={},R="Fireworks",T={unversionedId:"examples/fireworks",id:"examples/fireworks",title:"Fireworks",description:"",source:"@site/docs/examples/fireworks.md",sourceDirName:"examples",slug:"/examples/fireworks",permalink:"/p8g/docs/examples/fireworks",editUrl:"https://github.com/bernhardfritz/p8g/edit/master/docs/docs/examples/fireworks.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"triangle",permalink:"/p8g/docs/reference/triangle"}},F={},I=[],E={toc:I};function z(e){var n=e.components,r=(0,t.Z)(e,x);return(0,a.kt)("wrapper",(0,i.Z)({},E,r,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"fireworks"},"Fireworks"),(0,a.kt)(_,{src:"/examples/fireworks.html",mdxType:"Emscripten"}),(0,a.kt)(l.Z,{groupId:"lang",mdxType:"Tabs"},(0,a.kt)(c.Z,{value:"c",label:"C",mdxType:"TabItem"},(0,a.kt)(f.Z,{language:"c",title:"firework.c",mdxType:"CodeBlock"},'#include "firework.h"\n\n#define USING_NAMESPACE_P8G\n#include "p8g.h"\n\n#include "stb_ds.h"\n\n#include "random.h"\n\nvoid firework_apply_force(firework_t* firework, vec2 force) {\n    if (firework->exploded == 0) {\n        particle_t* rocket = &firework->rocket;\n        particle_apply_force(rocket, force);\n    } else {\n        for (int i = 0; i < arrlen(firework->particles); i++) {\n            particle_t* particle = &firework->particles[i];\n            particle_apply_force(particle, force);\n        }\n    }\n}\n\nvoid firework_update(firework_t* firework) {\n    if (firework->exploded == 0) {\n        particle_t* rocket = &firework->rocket;\n        particle_update(rocket);\n        if (rocket->velocity[1] >= 0.f) {\n            firework_explode(firework);\n        }\n    } else {\n        for (int i = 0; i < arrlen(firework->particles); i++) {\n            particle_t* particle = &firework->particles[i];\n            vec2_scale(particle->velocity, particle->velocity, 0.95f);\n            particle_update(particle);\n        }\n        for (int i = arrlen(firework->particles) - 1; i >= 0; i--) {\n            particle_t* particle = &firework->particles[i];\n            if (particle_is_dead(particle)) {\n                arrdel(firework->particles, i);\n            }\n        }\n    }\n}\n\nvoid firework_explode(firework_t* firework) {\n    vec4 color = { randf(0.f, 255.f), randf(0.f, 255.f), randf(0.f, 255.f), 255.f };\n    for (int i = 0; i < 200; i++) {\n        float angle = randf(0.f, 2.f * M_PI);\n        float magnitude = randf(2.f, 10.f);\n        particle_t particle = {\n            .position = { firework->rocket.position[0], firework->rocket.position[1] },\n            .mass = randf(0.7f, 1.f),\n            .velocity = { magnitude * cosf(angle), magnitude * sinf(angle) },\n            .lifespan = randf(90.f, 110.f),\n            .color = { color[0], color[1], color[2], color[3] },\n        };\n        arrpush(firework->particles, particle);\n    }\n    firework->exploded = 1;\n}\n\nvoid firework_draw(firework_t* firework) {\n    noStroke();\n    if (firework->exploded == 0) {\n        particle_t* rocket = &firework->rocket;\n        particle_draw(rocket);\n    } else {\n        for (int i = 0; i < arrlen(firework->particles); i++) {\n            particle_t* particle = &firework->particles[i];\n            particle_draw(particle);\n        }\n    }\n}\n\nint firework_is_done(firework_t* firework) {\n    return firework->exploded == 1 && arrlen(firework->particles) == 0\n        ? 1\n        : 0;\n}\n\nvoid firework_destroy(firework_t* firework) {\n    arrfree(firework->particles);\n}'),(0,a.kt)(f.Z,{language:"c",title:"firework.h",mdxType:"CodeBlock"},'#ifndef FIREWORK_H\n#define FIREWORK_H\n\n#include "linmath.h"\n\n#include "particle.h"\n\ntypedef struct {\n    particle_t rocket;\n    int exploded;\n    particle_t* particles;\n} firework_t;\n\nvoid firework_apply_force(firework_t* firework, vec2 force);\nvoid firework_update(firework_t* firework);\nvoid firework_explode(firework_t* firework);\nvoid firework_draw(firework_t* firework);\nint firework_is_done(firework_t* firework);\nvoid firework_destroy(firework_t* firework);\n\n#endif /* FIREWORK_H */'),(0,a.kt)(f.Z,{language:"c",title:"fireworks.c",mdxType:"CodeBlock"},'#include <time.h>\n#include <stdlib.h>\n\n#define USING_NAMESPACE_P8G\n#include "p8g.h"\n#define STB_DS_IMPLEMENTATION\n#include "stb_ds.h"\n\n#include "firework.h"\n#include "random.h"\n\nfirework_t* fireworks = NULL;\nvec2 gravity = { 0.f, 0.2f };\n\nvoid draw() {\n    background(0.f, 0.f, 0.f, 25.5f);\n    if (randf(0.f, 1.f) < 0.1f) {\n        firework_t firework = {\n            .rocket = {\n                .position = { randf(0, width), height },\n                .velocity = { 0.f, randf(-10.f, -12.f) },\n                .color = { 255.f, 0.f, 0.f, 255.f },\n                .mass = 1.f,\n                .lifespan = -1,\n            },\n            .exploded = 0,\n            .particles = NULL,\n        };\n        arrpush(fireworks, firework);\n    }\n    for (int i = 0; i < arrlen(fireworks); i++) {\n        firework_t* firework = &fireworks[i];\n        firework_apply_force(firework, gravity);\n        firework_update(firework);\n        firework_draw(firework);\n    }\n    for (int i = arrlen(fireworks) - 1; i >= 0; i--) {\n        firework_t* firework = &fireworks[i];\n        if (firework_is_done(firework)) {\n            firework_destroy(firework);\n            arrdel(fireworks, i);\n        }\n    }\n}\n\nint main(void) {\n    srand(time(NULL));\n    run(512, 512, "Fireworks");\n    for (int i = 0; i < arrlen(fireworks); i++) {\n        firework_t* firework = &fireworks[i];\n        firework_destroy(firework);\n    }\n    arrfree(fireworks);\n    return 0;\n}'),(0,a.kt)(f.Z,{language:"c",title:"particle.c",mdxType:"CodeBlock"},'#include "particle.h"\n\n#define USING_NAMESPACE_P8G\n#include "p8g.h"\n\nvoid particle_apply_force(particle_t* particle, vec2 force) {\n    vec2 da;\n    vec2_scale(da, force, particle->mass);\n    vec2_add(particle->acceleration, particle->acceleration, da);\n}\n\nvoid particle_update(particle_t* particle) {\n    vec2_add(particle->velocity, particle->velocity, particle->acceleration);\n    vec2_add(particle->position, particle->position, particle->velocity);\n    particle->acceleration[0] = 0.f;\n    particle->acceleration[1] = 0.f;\n    if (particle->age < particle->lifespan) {\n        particle->age = particle->age + 1;\n    }\n}\n\nvoid particle_draw(particle_t* particle) {\n    if (particle->lifespan == -1) {\n        fill(particle->color);\n    } else {\n        float pct = 1.f - particle->age / (float) particle->lifespan;\n        fill(particle->color[0], particle->color[1], particle->color[2], pct * particle->color[3]);\n    }\n    ellipse(particle->position[0], particle->position[1], particle->mass * 8.f, particle->mass * 8.f);\n}\n\nint particle_is_dead(particle_t* particle) {\n    return particle->age == particle->lifespan;\n}'),(0,a.kt)(f.Z,{language:"c",title:"particle.h",mdxType:"CodeBlock"},'#ifndef PARTICLE_H\n#define PARTICLE_H\n\n#include "linmath.h"\n\ntypedef struct {\n    vec2 position;\n    vec2 velocity;\n    vec2 acceleration;\n    int age;\n    int lifespan;\n    float mass;\n    vec4 color;\n} particle_t;\n\nvoid particle_apply_force(particle_t* particle, vec2 force);\nvoid particle_update(particle_t* particle);\nvoid particle_draw(particle_t* particle);\nint particle_is_dead(particle_t* particle);\n\n#endif /* PARTICLE_H */'),(0,a.kt)(f.Z,{language:"c",title:"random.c",mdxType:"CodeBlock"},"#include <stdlib.h>\n\nfloat randf(float a, float b) {\n    return a + (rand() / (float) RAND_MAX) * (b - a);\n}"),(0,a.kt)(f.Z,{language:"c",title:"random.h",mdxType:"CodeBlock"},"#ifndef RANDOM_H\n#define RANDOM_H\n\nfloat randf(float a, float b);\n\n#endif /* RANDOM_H */")),(0,a.kt)(c.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,a.kt)(f.Z,{language:"java",title:"Firework.java",mdxType:"CodeBlock"},"import org.joml.Vector2f;\nimport org.joml.Vector4f;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport static io.github.bernhardfritz.p8g.Sketch.noStroke;\n\npublic class Firework {\n\n    private Particle rocket;\n    boolean exploded;\n    private Set<Particle> particles;\n\n    public Firework(Particle rocket) {\n        this.rocket = rocket;\n        this.exploded = false;\n        this.particles = new HashSet<>();\n    }\n\n    public void applyForce(Vector2f force) {\n        if (!exploded) {\n            rocket.applyForce(force);\n        } else {\n            for (Particle particle : particles) {\n                particle.applyForce(force);\n            }\n        }\n    }\n\n    public void update() {\n        if (!exploded) {\n            rocket.update();\n            if (rocket.getVelocity().get(1) >= 0.f) {\n                explode();\n            }\n        } else {\n            for (Particle particle : particles) {\n                particle.getVelocity().mul(0.95f);\n                particle.update();\n            }\n            particles.removeIf(Particle::isDead);\n        }\n    }\n\n    public void explode() {\n        Vector4f color = new Vector4f(Random.randf(0.f, 255.f), Random.randf(0.f, 255.f), Random.randf(0.f, 255.f), 255.f);\n        for (int i = 0; i < 200; i++) {\n            float angle = Random.randf(0.f, 2.f * (float) Math.PI);\n            float magnitude = Random.randf(2.f, 10.f);\n            Particle particle = new Particle(\n                    new Vector2f(rocket.getPosition()),\n                    Random.randf(0.7f, 1.f),\n                    new Vector2f(magnitude * (float) Math.cos(angle), magnitude * (float) Math.sin(angle)),\n                    (int) Random.randf(90.f, 110.f),\n                    color\n            );\n            particles.add(particle);\n        }\n        exploded = true;\n    }\n\n    public void draw() {\n        noStroke();\n        if (!exploded) {\n            rocket.draw();\n        } else {\n            for (Particle particle : particles) {\n                particle.draw();\n            }\n        }\n    }\n\n    public boolean isDone() {\n        return exploded && particles.isEmpty();\n    }\n\n}\n"),(0,a.kt)(f.Z,{language:"java",title:"Fireworks.java",mdxType:"CodeBlock"},'import io.github.bernhardfritz.p8g.Sketch;\nimport org.joml.Vector2f;\nimport org.joml.Vector4f;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\npublic class Fireworks extends Sketch {\n\n    Set<Firework> fireworks = new HashSet<>();\n    Vector2f gravity = new Vector2f(0.f, 0.2f);\n\n    @Override\n    public void draw() {\n        background(new float[] { 0.f, 0.f, 0.f, 25.5f});\n        if (Random.randf(0.f, 1.f) < 0.1f) {\n            Firework firework = new Firework(\n              new Particle(\n                      new Vector2f(Random.randf(0.f, width), height),\n                      1.f,\n                      new Vector2f(0.f, Random.randf(-10.f, -12.f)),\n                      -1,\n                      new Vector4f(255.f, 0.f, 0.f, 255.f)\n              )\n            );\n            fireworks.add(firework);\n        }\n        for (Firework firework : fireworks) {\n            firework.applyForce(gravity);\n            firework.update();\n            firework.draw();\n        }\n        fireworks.removeIf(Firework::isDone);\n    }\n\n    public static void main(String[] args) {\n        Sketch sketch = new Fireworks();\n        sketch.run(512, 512, "Fireworks");\n    }\n}\n'),(0,a.kt)(f.Z,{language:"java",title:"Particle.java",mdxType:"CodeBlock"},"import org.joml.Vector2f;\nimport org.joml.Vector4f;\n\nimport static io.github.bernhardfritz.p8g.Sketch.ellipse;\nimport static io.github.bernhardfritz.p8g.Sketch.fill;\n\npublic class Particle {\n\n    private Vector2f position;\n    private Vector2f velocity;\n    private Vector2f acceleration;\n    private int age;\n    private int lifespan;\n    private float mass;\n    private Vector4f color;\n\n    public Particle(Vector2f position, float mass, Vector2f velocity, int lifespan, Vector4f color) {\n        this.position = position;\n        this.mass = mass;\n        this.velocity = velocity;\n        this.lifespan = lifespan;\n        this.color = color;\n        this.acceleration = new Vector2f();\n        this.age = 0;\n    }\n\n    public void applyForce(Vector2f force) {\n        Vector2f da = new Vector2f();\n        force.mul(mass, da);\n        acceleration.add(da);\n    }\n\n    public void update() {\n        velocity.add(acceleration);\n        position.add(velocity);\n        acceleration.set(0.f , 0.f);\n        if (age < lifespan) {\n            age = age + 1;\n        }\n    }\n\n    public void draw() {\n        if (lifespan == -1) {\n            fill(color.get(0), color.get(1), color.get(2), color.get(3));\n        } else {\n            float pct = 1.f - age / (float) lifespan;\n            fill(color.get(0), color.get(1), color.get(2), pct * 255.f);\n        }\n        ellipse(position.get(0), position.get(1), mass * 8.f, mass * 8.f);\n    }\n\n    public boolean isDead() {\n        return age == lifespan;\n    }\n\n    public Vector2f getPosition() {\n        return position;\n    }\n\n    public Vector2f getVelocity() {\n        return velocity;\n    }\n}\n"),(0,a.kt)(f.Z,{language:"java",title:"Random.java",mdxType:"CodeBlock"},"public class Random {\n\n    public static float randf(float a, float b) {\n        return a + (float) Math.random() * (b - a);\n    }\n\n}\n"))))}z.isMDXComponent=!0}}]);